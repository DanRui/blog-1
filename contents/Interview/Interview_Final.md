## 个人介绍
我是冯兵兵，目前任职于宜人贷创新产品部，负责小咖贷借款App 后端系统需求分析、功能开发、技术方案设计和优化工作。小咖贷2017年8月份立项，从0开始搭建小咖贷App 后端系统。

## 系统整体架构

![System_Archtecture](https://github.com/TFdream/blog/blob/master/docs/image/Interview/System_Archtecture.png)

### 分层架构
| 名称 | 功能 |
| --- | --- |
| 端 | 包括：Android、iOS、Wap（H5） |
| 接入层 | 主要功能：身份鉴权、限流、feature开关，轻量级业务处理 |
| 服务层 | 分为：三方服务、业务服务、通用服务 |
| 数据存储 | 包括：MySQL 和 Redis cluster |

## 一、系统亮点
### 1. 高可用
基于RPC框架(dubbo)做集群化，避免单点故障
#### 服务降级策略
1. 限流策略
2. 熔断策略
3. feature开关，关键业务节点可以即开即停；

### 2. 可扩展
单个服务都是无状态的，可以按需扩容。

### 3. 数据最终一致性
采用eBay BASE (basically available, soft state, eventually consistent)方案保证业务数据的最终一致性。

此方案的核心是将需要分布式处理的任务通过消息日志的方式来异步执行。消息日志可以存储到本地文本、数据库或消息队列，再通过业务规则自动或人工发起重试。人工重试更多的是应用于支付场景，通过对账系统对事后问题的处理。

消息日志方案的核心是保证服务接口的幂等性。考虑到网络通讯失败、数据丢包等原因，如果接口不能保证**幂等性**，数据的唯一性将很难保证。

文章中描述了一个最常见的场景，如果产生了一笔交易，需要在交易表增加记录，同时还要修改用户表的金额。这两个表属于不同的远程服务，所以就涉及到分布式事务一致性的问题。

文中提出了一个经典的解决方法，将主要**修改操作**以及更新**用户表的消息**放在一个本地事务来完成。同时为了避免重复消费用户表消息带来的问题，达到多次重试的幂等性，增加一个更新记录表 updates_applied 来记录已经处理过的消息。

#### 涉及到业务点
1. 提交借款申请
2. 设置借款单默认还款银行卡

## 二、系统待优化
1. 应用指标实时监控，PV、UV，方便产品决策，目前是产品经理查SQL[技术]；
2. 分布式Trace，方便开发排查线上问题[技术]；
3. 统一的分布式事务解决方案，调研阶段，TCC[技术]

## 三、技术满足产品需求
1. feature开关实时生效，风控要求，方便风控进行规则正确性验证；
2. 借款单批量设置还款卡操作, 涉及到分布式事物；
3. 风控规则引擎出参拆分，导出任意指定节点字段，方便风控同学验证
4. 借款单还款银行卡同步，人工处理工单 到 定时job同步，解放生产力

## 四、延伸想法
### 1. 业务的优势
1. 门槛低(身份证+淘宝+运营商)，无须征信报告；
2. 速度快(最快30分钟到账)
3. 更灵活（一次授信，循环使用）
4. 安全有保障，大平台；

### 2. 业务的劣势
1. 授信资料项 不够丰富，数据抓取成功率不够高，一直在跟蜂巢团队在讨论解决方案；
2. 

### 3. 业务发展方向
1. 循环授信
2. 提额

## 五、个人职业规划
### 1. 离职原因
1. 公司技术架构演进 缺乏统一、清晰的规划；
  - 没人主导新技术预研、落地，例如Docker
  - 项目组各自为战，项目组之间配合不给力
2. 个人成长不够，平台流量不大，技术领域期待能更进一步；
  - 架构设计方面没人一起交流、探讨、指导，感觉很孤独，希望找到志同道合的团队。
3. 调薪结果没有达到自己的预期；

### 2. 职业规划
明确方向：
1. 从技术向业务过渡
 - 要成为一个成功PM最重视的是管理能力，但对技术也应该有足够的了解，因为这是与团队成员沟通的桥梁，只有这样才能与整个团队的成员有着紧密的结合，让团队成员感觉到他们自己存在的意义，从而调动团队的积极性
2. 从程序员向技术管理发展
 - Team Leader的职责与Project Manager相像，但Team Leader更着重于技术开发方面，通常一个大型项目都会有一两个开发团队由Team Leader带领，负责开发核心部分
 - 无论是PM与TL，对业务与技术都要有深入的了解，只是PM更侧重于业务的管理，盈利的多少，风险的大小等等，而TL则侧重于项目的成本，开发的难度，软件的架构等技术方面的问题。
3. 技术专家路线
 - Base某个领域

## 对求职公司的了解

### 技术实力

### 开源贡献



